{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Downloads\\\\Elevator-Task-main\\\\Elevator-Task-main\\\\react_frontend\\\\src\\\\FloorView\\\\ControlPanel\\\\ControlPanel.jsx\",\n  _s = $RefreshSig$();\nimport { Box } from \"@mui/material\";\nimport 'react-awesome-button/dist/styles.css';\nimport { useState, useEffect, useContext } from \"react\";\nimport { ElevatorInfoContext } from \"../../Context/ElevatorInfoContext\";\nimport DisplayPanel from \"./DisplayPanel/DisplayPanel\";\nimport NumberPanel from \"./NumberPanel/NumberPanel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst controlPanelStyle = {\n  marginLeft: '30px',\n  marginTop: '30px',\n  marginBottom: '0px',\n  marginRight: '10px',\n  border: '1px solid #000000',\n  boxShadow: `\n        -1px 1px #868686,\n        -2px 2px #868686,\n        -3px 3px #868686,\n        -4px 4px #868686,\n        -5px 5px #868686\n    `,\n  height: 'auto',\n  width: '240px',\n  margin: '40px',\n  padding: '10px',\n  backgroundColor: '#ccc',\n  fontFamily: 'sans-serif'\n};\nfunction ControlPanel(props) {\n  _s();\n  const {\n    setElevatorInfo\n  } = useContext(ElevatorInfoContext);\n  const [panelText, setPanelText] = useState(\"\");\n  useEffect(() => {\n    setPanelText(\"Currently on: Floor \" + props.floorLocation);\n  }, [props.floorLocation]);\n  const handleFloorSelection = async floorNumber => {\n    try {\n      const response = await fetch(\"http://localhost:8000/elevator-control/request-elevator/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          current_floor_number: props.floorLocation,\n          requested_floor_number: floorNumber,\n          control_panel_id: props.id\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error ${response.status}`);\n      }\n      const data = await response.json();\n      const direction = data['direction'];\n      const directionString = direction === 'UP' ? ' ↑' : ' ↓';\n      setElevatorInfo(data['elevator_info']);\n      setPanelText(\"Please enter Elevator \" + [data['elevator_number'] + directionString]);\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: controlPanelStyle,\n    children: [/*#__PURE__*/_jsxDEV(DisplayPanel, {\n      panelText: panelText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NumberPanel, {\n      floorLocation: props.floorLocation,\n      handleFloorSelection: handleFloorSelection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n}\n_s(ControlPanel, \"HRpTop501o0UAP0Mv6lDl6XbbdM=\");\n_c = ControlPanel;\nexport default ControlPanel;\nvar _c;\n$RefreshReg$(_c, \"ControlPanel\");","map":{"version":3,"names":["Box","useState","useEffect","useContext","ElevatorInfoContext","DisplayPanel","NumberPanel","jsxDEV","_jsxDEV","controlPanelStyle","marginLeft","marginTop","marginBottom","marginRight","border","boxShadow","height","width","margin","padding","backgroundColor","fontFamily","ControlPanel","props","_s","setElevatorInfo","panelText","setPanelText","floorLocation","handleFloorSelection","floorNumber","response","fetch","method","headers","body","JSON","stringify","current_floor_number","requested_floor_number","control_panel_id","id","ok","Error","status","data","json","direction","directionString","error","console","sx","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/admin/Downloads/Elevator-Task-main/Elevator-Task-main/react_frontend/src/FloorView/ControlPanel/ControlPanel.jsx"],"sourcesContent":["import {Box} from \"@mui/material\";\nimport 'react-awesome-button/dist/styles.css';\nimport {useState, useEffect, useContext} from \"react\";\nimport {ElevatorInfoContext} from \"../../Context/ElevatorInfoContext\";\nimport DisplayPanel from \"./DisplayPanel/DisplayPanel\";\nimport NumberPanel from \"./NumberPanel/NumberPanel\";\n\nconst controlPanelStyle = {\n    marginLeft: '30px',\n    marginTop: '30px',\n    marginBottom: '0px',\n    marginRight: '10px',\n    border: '1px solid #000000',\n    boxShadow: `\n        -1px 1px #868686,\n        -2px 2px #868686,\n        -3px 3px #868686,\n        -4px 4px #868686,\n        -5px 5px #868686\n    `,\n    height: 'auto',\n    width: '240px',\n    margin: '40px',\n    padding: '10px',\n    backgroundColor: '#ccc',\n    fontFamily: 'sans-serif'\n};\n\nfunction ControlPanel(props) {\n\n    const {setElevatorInfo} = useContext(ElevatorInfoContext);\n    const [panelText, setPanelText] = useState(\"\");\n\n    useEffect(() => {\n        setPanelText(\"Currently on: Floor \" + props.floorLocation);\n    }, [props.floorLocation]);\n\n\n    const handleFloorSelection = async (floorNumber) => {\n        try {\n            const response = await fetch(\"http://localhost:8000/elevator-control/request-elevator/\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    current_floor_number: props.floorLocation,\n                    requested_floor_number: floorNumber,\n                    control_panel_id: props.id,\n\n                }),\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error ${response.status}`);\n            }\n\n            const data = await response.json();\n            const direction = data['direction']\n            const directionString = direction === 'UP' ? ' ↑' : ' ↓'\n\n            setElevatorInfo(data['elevator_info'])\n            setPanelText(\"Please enter Elevator \" + [data['elevator_number'] + directionString]);\n\n        } catch (error) {\n            console.error(\"Error:\", error);\n        }\n    };\n\n    return (\n        <Box sx={controlPanelStyle}>\n            <DisplayPanel panelText={panelText}/>\n            <NumberPanel floorLocation={props.floorLocation} handleFloorSelection={handleFloorSelection}/>\n        </Box>\n    );\n}\n\nexport default ControlPanel;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}